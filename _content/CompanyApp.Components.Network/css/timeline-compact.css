/* Timeline Event Size Reduction and Style Improvements */

/* Reduce timeline item sizes */
.vis-item {
    font-size: 11px !important;
    padding: 2px 6px !important;
    min-height: 20px !important;
    height: auto !important;
}

.vis-item.vis-box {
    border-width: 1px !important;
    padding: 3px 8px !important;
    min-height: 24px !important;
}

.vis-item.vis-point {
    min-height: 18px !important;
}

.vis-item.vis-range {
    min-height: 22px !important;
    padding: 2px 6px !important;
}

/* Reduce item content size */
.vis-item-content {
    font-size: 11px !important;
    line-height: 1.3 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 200px !important;
}

/* Compact timeline layout */
.vis-timeline {
    font-size: 12px !important;
}

.vis-item.vis-line {
    width: 1px !important;
}

.vis-item.vis-dot {
    border-width: 2px !important;
    width: 8px !important;
    height: 8px !important;
}

/* Improved tooltip/popup styles */
.vis-tooltip {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%) !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05) !important;
    padding: 12px 16px !important;
    font-size: 13px !important;
    line-height: 1.5 !important;
    max-width: 350px !important;
    z-index: 10000 !important;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

/* Tooltip content formatting */
.vis-tooltip-content {
    color: #212529 !important;
}

.vis-tooltip strong {
    color: #495057 !important;
    font-weight: 600 !important;
}

/* Severity-based item colors - smaller and more compact */
.vis-item.severity-critical {
    background-color: #dc3545 !important;
    border-color: #bd2130 !important;
    color: white !important;
    font-weight: 500 !important;
}

.vis-item.severity-high {
    background-color: #fd7e14 !important;
    border-color: #e36209 !important;
    color: white !important;
    font-weight: 500 !important;
}

.vis-item.severity-medium {
    background-color: #ffc107 !important;
    border-color: #e0a800 !important;
    color: #000 !important;
}

.vis-item.severity-low {
    background-color: #28a745 !important;
    border-color: #1e7e34 !important;
    color: white !important;
}

/* Selected item highlight - smaller */
.vis-item.vis-selected {
    box-shadow: 0 0 8px 2px rgba(13, 110, 253, 0.5) !important;
    border-width: 2px !important;
    z-index: 999 !important;
}

/* Reduce group label sizes */
.vis-label {
    font-size: 12px !important;
    padding: 4px 8px !important;
}

.vis-label .vis-inner {
    font-size: 12px !important;
}

/* Compact time axis */
.vis-time-axis .vis-text {
    font-size: 11px !important;
    padding: 2px 4px !important;
}

.vis-time-axis .vis-text.vis-major {
    font-size: 12px !important;
    font-weight: 600 !important;
}

/* Reduce current time marker */
.vis-current-time {
    width: 2px !important;
    background-color: #ff6b6b !important;
}

/* Custom time markers */
.vis-custom-time {
    width: 2px !important;
    background-color: #4dabf7 !important;
}

/* Compact scrollbars */
.vis-timeline::-webkit-scrollbar {
    width: 8px !important;
    height: 8px !important;
}

.vis-timeline::-webkit-scrollbar-track {
    background: #f1f3f5 !important;
}

.vis-timeline::-webkit-scrollbar-thumb {
    background: #adb5bd !important;
    border-radius: 4px !important;
}

.vis-timeline::-webkit-scrollbar-thumb:hover {
    background: #868e96 !important;
}

/* Improved item hover effect */
.vis-item:hover {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2) !important;
    transform: translateY(-1px) !important;
    transition: all 0.2s ease !important;
    z-index: 998 !important;
}

/* Context menu styles */
.timeline-context-menu {
    position: absolute;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    padding: 4px 0;
    min-width: 180px;
    z-index: 10001;
    font-size: 13px;
}

.timeline-context-menu-item {
    padding: 8px 16px;
    cursor: pointer;
    transition: background-color 0.15s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.timeline-context-menu-item:hover {
    background-color: #f8f9fa;
}

.timeline-context-menu-item.danger:hover {
    background-color: #ffe0e0;
    color: #dc3545;
}

.timeline-context-menu-divider {
    height: 1px;
    background-color: #e9ecef;
    margin: 4px 0;
}

/* Improved related items highlighting */
.vis-item.related-item {
    opacity: 1 !important;
    animation: pulse 1.5s ease-in-out infinite !important;
}

.vis-item.not-related {
    opacity: 0.3 !important;
}

@keyframes pulse {
    0%, 100% {
        box-shadow: 0 0 8px 2px rgba(13, 110, 253, 0.4);
    }
    50% {
        box-shadow: 0 0 12px 4px rgba(13, 110, 253, 0.6);
    }
}

/* Compact background items */
.vis-item.vis-background {
    opacity: 0.15 !important;
}

/* Reduce margin and spacing */
.vis-item.vis-box,
.vis-item.vis-point,
.vis-item.vis-range {
    margin: 1px 0 !important;
}

/* Timeline groups - compact */
.vis-group {
    min-height: 28px !important;
}

.vis-labelset .vis-label {
    min-height: 28px !important;
    height: auto !important;
}

/* Enhanced tooltip for TBML data */
.tbml-tooltip {
    background: white !important;
    border: 2px solid #0d6efd !important;
    border-radius: 8px !important;
    padding: 16px !important;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2) !important;
    max-width: 400px !important;
}

.tbml-tooltip-header {
    font-weight: 600 !important;
    font-size: 14px !important;
    margin-bottom: 8px !important;
    color: #212529 !important;
    border-bottom: 1px solid #e9ecef !important;
    padding-bottom: 8px !important;
}

.tbml-tooltip-body {
    font-size: 12px !important;
    color: #495057 !important;
}

.tbml-tooltip-row {
    display: flex !important;
    justify-content: space-between !important;
    padding: 4px 0 !important;
}

.tbml-tooltip-label {
    font-weight: 500 !important;
    color: #6c757d !important;
}

.tbml-tooltip-value {
    font-weight: 400 !important;
    color: #212529 !important;
}

.tbml-tooltip-badge {
    display: inline-block !important;
    padding: 2px 8px !important;
    border-radius: 12px !important;
    font-size: 11px !important;
    font-weight: 500 !important;
    margin-top: 8px !important;
}

.tbml-tooltip-badge.critical {
    background-color: #dc3545 !important;
    color: white !important;
}

.tbml-tooltip-badge.high {
    background-color: #fd7e14 !important;
    color: white !important;
}

.tbml-tooltip-badge.medium {
    background-color: #ffc107 !important;
    color: #000 !important;
}

.tbml-tooltip-badge.low {
    background-color: #28a745 !important;
    color: white !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .vis-item {
        font-size: 10px !important;
        padding: 2px 4px !important;
        min-height: 18px !important;
    }
    
    .vis-item-content {
        font-size: 10px !important;
        max-width: 120px !important;
    }
    
    .vis-tooltip {
        max-width: 280px !important;
        font-size: 11px !important;
    }
}

/* Performance optimization */
.vis-item {
    will-change: transform !important;
}

/* Smooth transitions */
.vis-item,
.vis-item.vis-box,
.vis-item.vis-point,
.vis-item.vis-range {
    transition: box-shadow 0.2s ease, transform 0.2s ease !important;
}
